<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Back2Roots - Students</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family:'Roboto', sans-serif; }
  body { background:#f5f7fa; color:#333; display:flex; min-height:100vh; }

  /* Sidebar */
  .sidebar { width:250px; background:#2c3e50; color:#fff; flex-shrink:0; display:flex; flex-direction:column; padding:20px 0; position:fixed; height:100vh; }
  .sidebar h2 { text-align:center; margin-bottom:40px; color:#fff; font-size:1.8rem; }
  .sidebar a { display:block; color:#fff; padding:15px 25px; text-decoration:none; margin:5px 0; border-left:4px solid transparent; transition: all 0.3s; }
  .sidebar a:hover { background:#34495e; border-left:4px solid #3498db; }
  .sidebar a.active { background:#34495e; border-left:4px solid #27ae60; }

  /* Main content */
  .main-content { margin-left:250px; flex:1; padding:30px 40px; }

  h1 { font-size:2rem; margin-bottom:20px; color:#2c3e50; }

  /* Search Bar */
  .search-bar { margin-bottom:20px; display:flex; justify-content:flex-end; }
  .search-bar input { padding:10px 15px; border-radius:8px; border:1px solid #ccc; width:250px; font-size:1rem; }

  /* Student Table */
  table { width:100%; border-collapse:collapse; background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 6px 15px rgba(0,0,0,0.1); }
  th, td { padding:15px 20px; text-align:left; border-bottom:1px solid #eee; transition: background 0.3s; }
  th { background:#3498db; color:#fff; cursor:pointer; }
  tr:hover { background:#f1f1f1; }
  td img { width:40px; height:40px; border-radius:50%; object-fit:cover; margin-right:10px; vertical-align:middle; }

  /* Pagination */
  .pagination { margin-top:20px; display:flex; justify-content:center; gap:10px; }
  .pagination button { padding:8px 14px; border:none; border-radius:6px; background:#3498db; color:#fff; cursor:pointer; transition:0.3s; }
  .pagination button:hover { background:#2980b9; }
  .pagination button.disabled { background:#ccc; cursor:not-allowed; }

  /* Modal */
  .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; }
  .modal-content { background:#fff; padding:30px; border-radius:12px; width:90%; max-width:500px; position:relative; }
  .modal-content h2 { margin-bottom:15px; color:#3498db; }
  .close-btn { position:absolute; top:15px; right:20px; font-size:1.5rem; cursor:pointer; color:#333; }

  @media(max-width:768px){
    .main-content { margin-left:0; padding:20px; }
    table, th, td { font-size:0.9rem; }
  }
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
  <h2>Back2Roots</h2>
  <a href="dashboard.html">Dashboard</a>
  <a href="students.html" class="active">Students</a>
  <a href="alumni.html">Alumni</a>
  <a href="events.html">Events</a>
  <a href="jobs.html">Jobs</a>
  <a href="mentorship.html">Mentorship</a>
  <a href="analytics.html">Analytics</a>
  <a href="settings.html">Settings</a>
</div>

<!-- Main Content -->
<div class="main-content">
  <h1>Students</h1>
  
  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search students...">
  </div>

  <table id="studentsTable">
    <thead>
      <tr>
        <th data-column="photo">Photo</th>
        <th data-column="name">Name</th>
        <th data-column="email">Email</th>
        <th data-column="department">Department</th>
        <th data-column="year">Year</th>
        <th data-column="status">Status</th>
      </tr>
    </thead>
    <tbody>
      <!-- Student rows dynamically generated -->
    </tbody>
  </table>

  <div class="pagination" id="pagination"></div>
</div>

<!-- Student Modal -->
<div class="modal" id="studentModal">
  <div class="modal-content">
    <span class="close-btn" id="closeModal">&times;</span>
    <h2 id="modalName">Student Name</h2>
    <p><strong>Email:</strong> <span id="modalEmail"></span></p>
    <p><strong>Department:</strong> <span id="modalDept"></span></p>
    <p><strong>Year:</strong> <span id="modalYear"></span></p>
    <p><strong>Status:</strong> <span id="modalStatus"></span></p>
  </div>
</div>

<script>
const studentsData = [
  {photo:'https://via.placeholder.com/40', name:'Rahul Kumar', email:'rahul@gmail.com', department:'CSE', year:'3rd', status:'Active'},
  {photo:'https://via.placeholder.com/40', name:'Anjali Singh', email:'anjali@gmail.com', department:'ECE', year:'2nd', status:'Active'},
  {photo:'https://via.placeholder.com/40', name:'Siddharth Patnaik', email:'siddharth@gmail.com', department:'ME', year:'4th', status:'Inactive'},
  {photo:'https://via.placeholder.com/40', name:'Neha Reddy', email:'neha@gmail.com', department:'CSE', year:'1st', status:'Active'},
  {photo:'https://via.placeholder.com/40', name:'Arjun Das', email:'arjun@gmail.com', department:'CSE', year:'2nd', status:'Active'},
  {photo:'https://via.placeholder.com/40', name:'Priya Mohanty', email:'priya@gmail.com', department:'ECE', year:'3rd', status:'Active'},
  {photo:'https://via.placeholder.com/40', name:'Vikram Sahu', email:'vikram@gmail.com', department:'ME', year:'4th', status:'Inactive'},
  {photo:'https://via.placeholder.com/40', name:'Riya Sharma', email:'riya@gmail.com', department:'CSE', year:'1st', status:'Active'},
  {photo:'https://via.placeholder.com/40', name:'Karan Verma', email:'karan@gmail.com', department:'ECE', year:'2nd', status:'Active'},
  {photo:'https://via.placeholder.com/40', name:'Sneha Patra', email:'sneha@gmail.com', department:'ME', year:'3rd', status:'Inactive'}
];

const rowsPerPage = 5;
let currentPage = 1;
let filteredData = [...studentsData];

function renderTable(page = 1) {
  const tbody = document.querySelector('#studentsTable tbody');
  tbody.innerHTML = '';
  const start = (page - 1) * rowsPerPage;
  const end = start + rowsPerPage;
  const pageData = filteredData.slice(start, end);
  pageData.forEach(student => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td><img src="${student.photo}" alt="Student"></td>
      <td>${student.name}</td>
      <td>${student.email}</td>
      <td>${student.department}</td>
      <td>${student.year}</td>
      <td>${student.status}</td>
    `;
    tr.addEventListener('click', () => openModal(student));
    tbody.appendChild(tr);
  });
  renderPagination();
}

function renderPagination() {
  const pagination = document.getElementById('pagination');
  pagination.innerHTML = '';
  const totalPages = Math.ceil(filteredData.length / rowsPerPage);
  for(let i=1; i<=totalPages; i++){
    const btn = document.createElement('button');
    btn.textContent = i;
    if(i===currentPage) btn.classList.add('disabled');
    btn.addEventListener('click', () => {
      currentPage = i;
      renderTable(currentPage);
    });
    pagination.appendChild(btn);
  }
}

// Search
const searchInput = document.getElementById('searchInput');
searchInput.addEventListener('keyup', () => {
  const filter = searchInput.value.toLowerCase();
  filteredData = studentsData.filter(s => 
    s.name.toLowerCase().includes(filter) ||
    s.email.toLowerCase().includes(filter) ||
    s.department.toLowerCase().includes(filter)
  );
  currentPage = 1;
  renderTable();
});

// Modal
const modal = document.getElementById('studentModal');
const closeModalBtn = document.getElementById('closeModal');
function openModal(student){
  document.getElementById('modalName').innerText = student.name;
  document.getElementById('modalEmail').innerText = student.email;
  document.getElementById('modalDept').innerText = student.department;
  document.getElementById('modalYear').innerText = student.year;
  document.getElementById('modalStatus').innerText = student.status;
  modal.style.display = 'flex';
}
closeModalBtn.addEventListener('click', ()=> modal.style.display='none');
window.addEventListener('click', (e)=> { if(e.target===modal) modal.style.display='none'; });

// Initial render
renderTable(currentPage);
</script>

</body>
</html>
